(this["webpackJsonpletterboxd-review-analysis"]=this["webpackJsonpletterboxd-review-analysis"]||[]).push([[0],{63:function(e,t,n){},71:function(e,t,n){var r={"./en/index":42};function i(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=c,e.exports=i,i.id=71},77:function(e,t,n){"use strict";n.r(t);var r,i=n(6),c=n(0),a=n.n(c),s=n(8),o=n.n(s),u=(n(63),n(34)),l=n.n(u),j=n(43),d=n(32),b=n(112),v=n(116),m=n(114),O=n(117),x=n(44),p=n.n(x);!function(e){e.DIARY="diary",e.LIST="list"}(r||(r={}));var f=n(35),h=n(21),w=n(111),g=n(79),y=n(36);function k(){var e=Object(f.a)(["\n  color: red;\n"]);return k=function(){return e},e}function C(){var e=Object(f.a)(["\n  color: green;\n"]);return C=function(){return e},e}var F=y.a.span(C()),S=y.a.span(k()),I=function(e){var t=e.reviewSentiment,n=Object(h.a)(),r=Object(w.a)(n.breakpoints.down("xs")),c=Object(w.a)(n.breakpoints.down("sm")),a=Object(w.a)(n.breakpoints.down("md")),s="".concat(t.review.movie,"-").concat(t.review.published),o=t.review.entry,u=function(e,t){return e>0?Object(i.jsx)(F,{children:t?e.toFixed(t):e}):e<0?Object(i.jsx)(S,{children:t?e.toFixed(t):e}):e};return Object(i.jsxs)(b.a,{container:!0,direction:"row",justify:"flex-start",children:[Object(i.jsx)(b.a,{item:!0,xs:!0,children:Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:r||c?o.film.image.small:a?o.film.image.medium:o.film.image.large})})}),Object(i.jsxs)(b.a,{item:!0,xs:10,children:[Object(i.jsx)(g.a,{variant:"h6",children:t.review.movie}),Object(i.jsxs)(g.a,{variant:"subtitle1",children:["Overall: ",u(t.sentiment.score)," Comparative:"," ",u(t.sentiment.comparative,2)]}),Object(i.jsx)("p",{children:t.review.review.split(" ").map((function(e,n){return function(e,t,n){var r=t.replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").replace(/\s/g,"").toLowerCase();return e.sentiment.negative.includes(r)?Object(i.jsx)(S,{children:t+" "},"".concat(n,"-").concat(t)):e.sentiment.positive.includes(r)?Object(i.jsx)(F,{children:t+" "},"".concat(n,"-").concat(t)):t+" "}(t,e,"".concat(n,"-").concat(s))}))})]})]})},D=n(115);var L=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),o=Object(d.a)(s,2),u=o[0],x=o[1],f=Object(c.useState)([]),h=Object(d.a)(f,2),w=h[0],g=h[1],y=function(){var e=Object(j.a)(l.a.mark((function e(){var t,i,c,a,s,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://letterboxd-rss-wrapper.herokuapp.com/rss?user=".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,c=i.filter((function(e){return e.type===r.DIARY&&e.review})),a=c.map((function(e){var t;return{entry:e,movie:e.film.title,review:(null===(t=e.review)||void 0===t?void 0:t.replace("\n"," "))||"",published:e.date.published}})),s=new p.a,o=s.analyze(a.map((function(e){return e.review})).join(" ")),u=a.map((function(e){return{review:e,sentiment:s.analyze(e.review)}})),x(o),g(u);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(b.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(i.jsx)(b.a,{item:!0,xs:!0,children:Object(i.jsx)(v.a,{value:n,onChange:function(e){a(e.target.value)},label:"Username",InputProps:{endAdornment:Object(i.jsx)(m.a,{position:"end",children:Object(i.jsx)(O.a,{"aria-label":"search",onClick:y,children:Object(i.jsx)(D.a,{})})})}})}),u&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(b.a,{item:!0,xs:!0,children:["Overall: ",u.score]}),Object(i.jsxs)(b.a,{item:!0,xs:!0,children:["Comparative: ",u.comparative]})]})]}),Object(i.jsx)(b.a,{container:!0,direction:"column",justify:"center",children:w.map((function(e){var t="".concat(e.review.movie,"-").concat(e.review.published);return Object(i.jsx)(b.a,{item:!0,xs:!0,children:Object(i.jsx)(I,{reviewSentiment:e})},t)}))})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(L,{})}),document.getElementById("root")),T()}},[[77,1,2]]]);
//# sourceMappingURL=main.ab8ed4f3.chunk.js.map