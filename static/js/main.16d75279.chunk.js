(this["webpackJsonpletterboxd-review-analysis"]=this["webpackJsonpletterboxd-review-analysis"]||[]).push([[0],{63:function(e,t,n){},71:function(e,t,n){var r={"./en/index":42};function c(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=i,e.exports=c,c.id=71},77:function(e,t,n){"use strict";n.r(t);var r,c=n(6),i=n(0),a=n.n(i),s=n(9),o=n.n(s),u=(n(63),n(34)),l=n.n(u),j=n(43),b=n(25),d=n(112),v=n(117),m=n(114),x=n(118),O=n(116),p=n(44),f=n.n(p);!function(e){e.DIARY="diary",e.LIST="list"}(r||(r={}));var h=n(35),w=n(21),g=n(111),y=n(79),k=n(36);function S(){var e=Object(h.a)(["\n  color: red;\n"]);return S=function(){return e},e}function C(){var e=Object(h.a)(["\n  color: green;\n"]);return C=function(){return e},e}var F=k.a.span(C()),I=k.a.span(S()),D=function(e){var t=e.reviewSentiment,n=Object(w.a)(),r=Object(g.a)(n.breakpoints.down("xs")),i=Object(g.a)(n.breakpoints.down("sm")),a=Object(g.a)(n.breakpoints.down("md")),s="".concat(t.review.movie,"-").concat(t.review.published),o=t.review.entry,u=function(e,t){return e>0?Object(c.jsx)(F,{children:t?e.toFixed(t):e}):e<0?Object(c.jsx)(I,{children:t?e.toFixed(t):e}):e};return Object(c.jsxs)(d.a,{container:!0,direction:"row",justify:"flex-start",children:[Object(c.jsx)(d.a,{item:!0,xs:!0,children:Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:r||i?o.film.image.small:a?o.film.image.medium:o.film.image.large})})}),Object(c.jsxs)(d.a,{item:!0,xs:10,children:[Object(c.jsx)(y.a,{variant:"h6",children:t.review.movie}),Object(c.jsxs)(y.a,{variant:"subtitle1",children:["Overall: ",u(t.sentiment.score)," Comparative:"," ",u(t.sentiment.comparative,2)]}),Object(c.jsx)("p",{children:t.review.review.split(" ").map((function(e,n){return function(e,t,n){var r=t.replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").replace(/\s/g,"").toLowerCase();return e.sentiment.negative.includes(r)?Object(c.jsx)(I,{children:t+" "},"".concat(n,"-").concat(t)):e.sentiment.positive.includes(r)?Object(c.jsx)(F,{children:t+" "},"".concat(n,"-").concat(t)):t+" "}(t,e,"".concat(n,"-").concat(s))}))})]})]})},L=n(115);var E=function(){var e=Object(i.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)(null),o=Object(b.a)(s,2),u=o[0],p=o[1],h=Object(i.useState)([]),w=Object(b.a)(h,2),g=w[0],y=w[1],k=Object(i.useState)(null),S=Object(b.a)(k,2),C=S[0],F=S[1],I=Object(i.useState)(!1),E=Object(b.a)(I,2),T=E[0],A=E[1],P=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c,i,a,s,o,u,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(null),y([]),F(null),A(!1),A(!0),e.prev=2,e.next=5,fetch("https://letterboxd-rss-wrapper.herokuapp.com/rss?user=".concat(n));case 5:if((t=e.sent).ok){e.next=14;break}return e.next=9,t.json();case 9:c=e.sent,F(c.error),A(!1),e.next=25;break;case 14:return e.next=16,t.json();case 16:i=e.sent,a=i.filter((function(e){return e.type===r.DIARY&&e.review})),s=a.map((function(e){var t;return{entry:e,movie:e.film.title,review:(null===(t=e.review)||void 0===t?void 0:t.replace("\n"," "))||"",published:e.date.published}})),o=new f.a,u=o.analyze(s.map((function(e){return e.review})).join(" ")),j=s.map((function(e){return{review:e,sentiment:o.analyze(e.review)}})),p(u),y(j),A(!1);case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(2),F(e.t0.message),A(!1);case 31:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(d.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(c.jsx)(d.a,{item:!0,xs:!0,children:Object(c.jsx)(v.a,{value:n,onChange:function(e){a(e.target.value)},label:"Username",InputProps:{endAdornment:Object(c.jsx)(m.a,{position:"end",children:Object(c.jsx)(x.a,{"aria-label":"search",onClick:P,children:Object(c.jsx)(L.a,{})})})}})}),C&&Object(c.jsxs)(d.a,{item:!0,xs:!0,children:["Error: ",C]}),!T&&u&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(d.a,{item:!0,xs:!0,children:["Overall: ",u.score]}),Object(c.jsxs)(d.a,{item:!0,xs:!0,children:["Comparative: ",u.comparative]})]}),T&&Object(c.jsx)(O.a,{})]}),!T&&Object(c.jsx)(d.a,{container:!0,direction:"column",justify:"center",children:g.map((function(e){var t="".concat(e.review.movie,"-").concat(e.review.published);return Object(c.jsx)(d.a,{item:!0,xs:!0,children:Object(c.jsx)(D,{reviewSentiment:e})},t)}))})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,119)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root")),T()}},[[77,1,2]]]);
//# sourceMappingURL=main.16d75279.chunk.js.map