(this["webpackJsonpletterboxd-review-analysis"]=this["webpackJsonpletterboxd-review-analysis"]||[]).push([[0],{104:function(e,t){},117:function(e,t,n){"use strict";n.r(t);var r=n(6),c=n(0),i=n.n(c),a=n(9),s=n.n(a),o=(n(88),n(28)),u=n.n(o),l=n(54),j=n(19),b=n(160),d=n(165),v=n(162),O=n(166),x=n(164),f=n(55),m=n.n(f),p=n(163),h=n(69),w=n(61),g=n.n(w),y=n(62),k=n.n(y),S=n(44),C=n(26),F=n(159),I=n(119),L=n(45);function D(){var e=Object(S.a)(["\n  color: red;\n"]);return D=function(){return e},e}function E(){var e=Object(S.a)(["\n  color: green;\n"]);return E=function(){return e},e}var T,_=L.a.span(E()),z=L.a.span(D()),A=function(e){var t=e.reviewSentiment,n=Object(C.a)(),c=Object(F.a)(n.breakpoints.down("xs")),i=Object(F.a)(n.breakpoints.down("sm")),a=Object(F.a)(n.breakpoints.down("md")),s="".concat(t.review.movie,"-").concat(t.review.published),o=t.review.entry,u=function(e,t){return e>0?Object(r.jsx)(_,{children:t?e.toFixed(t):e}):e<0?Object(r.jsx)(z,{children:t?e.toFixed(t):e}):e};return Object(r.jsxs)(b.a,{container:!0,direction:"row",justify:"flex-start",children:[Object(r.jsx)(b.a,{item:!0,xs:!0,children:Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:c||i?o.film.image.small:a?o.film.image.medium:o.film.image.large})})}),Object(r.jsxs)(b.a,{item:!0,xs:10,children:[Object(r.jsx)(I.a,{variant:"h6",children:t.review.movie}),Object(r.jsxs)(I.a,{variant:"subtitle1",children:["Overall: ",u(t.sentiment.score)," Comparative:"," ",u(t.sentiment.comparative,2)]}),Object(r.jsx)("p",{children:t.review.review.split(" ").map((function(e,n){return function(e,t,n){var c=t.replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").replace(/\s/g,"").toLowerCase();return e.sentiment.negative.includes(c)?Object(r.jsx)(z,{children:t+" "},"".concat(n,"-").concat(t)):e.sentiment.positive.includes(c)?Object(r.jsx)(_,{children:t+" "},"".concat(n,"-").concat(t)):t+" "}(t,e,"".concat(n,"-").concat(s))}))})]})]})};!function(e){e.DIARY="diary",e.LIST="list"}(T||(T={}));var P=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(null),s=Object(j.a)(a,2),o=s[0],f=s[1],w=Object(c.useState)([]),y=Object(j.a)(w,2),S=y[0],C=y[1],F=Object(c.useState)(null),I=Object(j.a)(F,2),L=I[0],D=I[1],E=Object(c.useState)(!1),_=Object(j.a)(E,2),z=_[0],P=_[1],U=Object(c.useState)([]),B=Object(j.a)(U,2),J=B[0],M=B[1],N=function(){var e=Object(l.a)(u.a.mark((function e(){var t,r,c,i,a,s,o,l,b,d,v,O;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(null),C([]),D(null),P(!1),P(!0),e.prev=2,e.next=5,fetch("https://letterboxd-rss-wrapper.herokuapp.com/rss?user=".concat(n));case 5:if((t=e.sent).ok){e.next=14;break}return e.next=9,t.json();case 9:r=e.sent,D(r.error),P(!1),e.next=31;break;case 14:return e.next=16,t.json();case 16:c=e.sent,i=c.filter((function(e){return e.type===T.DIARY&&e.review})),a=i.map((function(e){var t;return{entry:e,movie:e.film.title,review:(null===(t=e.review)||void 0===t?void 0:t.replace("\n"," "))||"",published:e.date.published}})),s=a.map((function(e){return e.review})).join(" "),o=R(s.split(" ")).map((function(e){return e.replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").replace(/\s/g,"").toLowerCase()})),console.log("filteredOverallText: ",o),l=g()(o.join(" "),!0),b=Object.entries(l).map((function(e){var t=Object(j.a)(e,2),n=t[0],r=t[1];return{text:n.toLowerCase(),value:r}})),d=new m.a,v=d.analyze(s),O=a.map((function(e){return{review:e,sentiment:d.analyze(e.review)}})),f(v),C(O),P(!1),M(b.filter((function(e){return e.text.length>3})));case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(2),D(e.t0.message),P(!1);case 37:case"end":return e.stop()}}),e,null,[[2,33]])})));return function(){return e.apply(this,arguments)}}(),R=function(e){return k.a.forEach((function(t){for(var n=t.word;-1!==e.indexOf(n);)e.splice(e.indexOf(n),1)})),e};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(b.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(r.jsx)(b.a,{item:!0,xs:!0,children:Object(r.jsx)(d.a,{value:n,onChange:function(e){i(e.target.value)},label:"Username",InputProps:{endAdornment:Object(r.jsx)(v.a,{position:"end",children:Object(r.jsx)(O.a,{"aria-label":"search",onClick:N,children:Object(r.jsx)(p.a,{})})})}})}),L&&Object(r.jsxs)(b.a,{item:!0,xs:!0,children:["Error: ",L]}),!z&&o&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(b.a,{item:!0,xs:!0,children:["Overall: ",o.score]}),Object(r.jsxs)(b.a,{item:!0,xs:!0,children:["Comparative: ",o.comparative]})]}),!z&&Object(r.jsx)(h.a,{words:J,options:{fontSizes:[8,64]}}),z&&Object(r.jsx)(x.a,{})]}),!z&&Object(r.jsx)(b.a,{container:!0,direction:"column",justify:"center",children:S.map((function(e){var t="".concat(e.review.movie,"-").concat(e.review.published);return Object(r.jsx)(b.a,{item:!0,xs:!0,children:Object(r.jsx)(A,{reviewSentiment:e})},t)}))})]})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,167)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(P,{})}),document.getElementById("root")),U()},88:function(e,t,n){},96:function(e,t,n){var r={"./en/index":52};function c(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=i,e.exports=c,c.id=96}},[[117,1,2]]]);
//# sourceMappingURL=main.f1cbd0b7.chunk.js.map