(this["webpackJsonpletterboxd-review-analysis"]=this["webpackJsonpletterboxd-review-analysis"]||[]).push([[0],{63:function(e,t,n){},71:function(e,t,n){var r={"./en/index":42};function c(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=i,e.exports=c,c.id=71},77:function(e,t,n){"use strict";n.r(t);var r,c=n(6),i=n(0),a=n.n(i),s=n(8),o=n.n(s),l=(n(63),n(34)),u=n.n(l),j=n(43),b=n(28),d=n(112),v=n(116),m=n(114),x=n(117),O=n(44),p=n.n(O);!function(e){e.DIARY="diary",e.LIST="list"}(r||(r={}));var f=n(35),h=n(21),w=n(111),g=n(79),y=n(36);function k(){var e=Object(f.a)(["\n  color: red;\n"]);return k=function(){return e},e}function C(){var e=Object(f.a)(["\n  color: green;\n"]);return C=function(){return e},e}var F=y.a.span(C()),S=y.a.span(k()),I=function(e){var t=e.reviewSentiment,n=Object(h.a)(),r=Object(w.a)(n.breakpoints.down("xs")),i=Object(w.a)(n.breakpoints.down("sm")),a=Object(w.a)(n.breakpoints.down("md")),s="".concat(t.review.movie,"-").concat(t.review.published),o=t.review.entry,l=function(e,t){return e>0?Object(c.jsx)(F,{children:t?e.toFixed(t):e}):e<0?Object(c.jsx)(S,{children:t?e.toFixed(t):e}):e};return Object(c.jsxs)(d.a,{container:!0,direction:"row",justify:"flex-start",children:[Object(c.jsx)(d.a,{item:!0,xs:!0,children:Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:r||i?o.film.image.small:a?o.film.image.medium:o.film.image.large})})}),Object(c.jsxs)(d.a,{item:!0,xs:10,children:[Object(c.jsx)(g.a,{variant:"h6",children:t.review.movie}),Object(c.jsxs)(g.a,{variant:"subtitle1",children:["Overall: ",l(t.sentiment.score)," Comparative:"," ",l(t.sentiment.comparative,2)]}),Object(c.jsx)("p",{children:t.review.review.split(" ").map((function(e,n){return function(e,t,n){var r=t.replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").replace(/\s/g,"").toLowerCase();return e.sentiment.negative.includes(r)?Object(c.jsx)(S,{children:t+" "},"".concat(n,"-").concat(t)):e.sentiment.positive.includes(r)?Object(c.jsx)(F,{children:t+" "},"".concat(n,"-").concat(t)):t+" "}(t,e,"".concat(n,"-").concat(s))}))})]})]})},D=n(115);var L=function(){var e=Object(i.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)(null),o=Object(b.a)(s,2),l=o[0],O=o[1],f=Object(i.useState)([]),h=Object(b.a)(f,2),w=h[0],g=h[1],y=Object(i.useState)(null),k=Object(b.a)(y,2),C=k[0],F=k[1],S=function(){var e=Object(j.a)(u.a.mark((function e(){var t,c,i,a,s,o,l,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(null),g([]),F(null),e.prev=1,e.next=4,fetch("https://letterboxd-rss-wrapper.herokuapp.com/rss?user=".concat(n));case 4:if((t=e.sent).ok){e.next=12;break}return e.next=8,t.json();case 8:c=e.sent,F(c.error),e.next=22;break;case 12:return e.next=14,t.json();case 14:i=e.sent,a=i.filter((function(e){return e.type===r.DIARY&&e.review})),s=a.map((function(e){var t;return{entry:e,movie:e.film.title,review:(null===(t=e.review)||void 0===t?void 0:t.replace("\n"," "))||"",published:e.date.published}})),o=new p.a,l=o.analyze(s.map((function(e){return e.review})).join(" ")),j=s.map((function(e){return{review:e,sentiment:o.analyze(e.review)}})),O(l),g(j);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),F(e.t0.message);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(d.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(c.jsx)(d.a,{item:!0,xs:!0,children:Object(c.jsx)(v.a,{value:n,onChange:function(e){a(e.target.value)},label:"Username",InputProps:{endAdornment:Object(c.jsx)(m.a,{position:"end",children:Object(c.jsx)(x.a,{"aria-label":"search",onClick:S,children:Object(c.jsx)(D.a,{})})})}})}),C&&Object(c.jsxs)(d.a,{item:!0,xs:!0,children:["Error: ",C]}),l&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(d.a,{item:!0,xs:!0,children:["Overall: ",l.score]}),Object(c.jsxs)(d.a,{item:!0,xs:!0,children:["Comparative: ",l.comparative]})]})]}),Object(c.jsx)(d.a,{container:!0,direction:"column",justify:"center",children:w.map((function(e){var t="".concat(e.review.movie,"-").concat(e.review.published);return Object(c.jsx)(d.a,{item:!0,xs:!0,children:Object(c.jsx)(I,{reviewSentiment:e})},t)}))})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(L,{})}),document.getElementById("root")),E()}},[[77,1,2]]]);
//# sourceMappingURL=main.87c131f5.chunk.js.map